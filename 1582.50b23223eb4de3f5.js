"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1582],{1582:(N,_,c)=>{c.r(_),c.d(_,{ItemsModule:()=>$});var u=c(177),v=c(8160),e=c(4438),h=c(1129),r=c(7863),p=c(467),a=c(4341);function k(o,m){if(1&o&&(e.j41(0,"ion-button",7),e.EFF(1," Submit"),e.k0s()),2&o){const i=e.XpG();e.Y8G("disabled",i.itemForm.invalid)}}function S(o,m){if(1&o&&(e.j41(0,"ion-button",7),e.EFF(1," Update"),e.k0s()),2&o){const i=e.XpG();e.Y8G("disabled",i.itemForm.invalid)}}let G=(()=>{var o;class m{constructor(t,n,s){var d,b,g,f;this.fb=t,this.itemService=n,this.toastController=s,this.isToastOpen=!1,this.itemForm=this.fb.group(null==n.itemSelected?{name:["",a.k0.required],p_Code:["",a.k0.required],max:[0,[a.k0.required,a.k0.min(1)]],color:["#FFFFFF",a.k0.required]}:{name:[null===(d=this.itemService.itemSelected)||void 0===d?void 0:d.name,a.k0.required],p_Code:[null===(b=this.itemService.itemSelected)||void 0===b?void 0:b.p_Code,a.k0.required],max:[null===(g=this.itemService.itemSelected)||void 0===g?void 0:g.max,[a.k0.required,a.k0.min(1)]],color:[null===(f=this.itemService.itemSelected)||void 0===f?void 0:f.colour,a.k0.required]})}ngOnInit(){}presentToast(t,n){var s=this;return(0,p.A)(function*(){yield(yield s.toastController.create({message:t,duration:1500,position:"bottom",cssClass:n})).present()})()}onSubmit(t){t.preventDefault(),null==this.itemService.itemSelected?this.itemForm.valid&&this.itemService.addItem({name:this.itemForm.value.name,p_Code:this.itemForm.value.p_Code,max:this.itemForm.value.max,colour:this.itemForm.value.color}).subscribe(s=>{null==s?this.presentToast("Error adding item.","error"):(this.presentToast("Added item.","success"),this.itemForm.reset(),this.itemService.moveBackward())},s=>{this.presentToast("Error adding item.","error")}):this.itemForm.valid&&this.itemService.updateItem({itemID:this.itemService.itemSelected.itemID,name:this.itemForm.value.name,p_Code:this.itemForm.value.p_Code,max:this.itemForm.value.max,colour:this.itemForm.value.color}).subscribe(s=>{null==s?this.presentToast("Error updating item.","error"):(this.presentToast("Updated item.","success"),this.itemForm.reset(),this.itemService.moveBackward())},s=>{this.presentToast("Error updating item.","error")})}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(a.ok),e.rXU(h.b),e.rXU(r.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-itemForm"]],decls:14,vars:3,consts:[[3,"ngSubmit","formGroup"],["labelPlacement","stacked","label","Name:","formControlName","name","type","text",2,"font-size","30px !important"],["labelPlacement","stacked","label","P Code:","formControlName","p_Code","type","text",2,"font-size","30px !important"],["labelPlacement","stacked","label","Max:","formControlName","max","type","number",2,"font-size","30px !important"],["position","stacked",2,"font-size","30px !important"],["formControlName","color","type","color"],["expand","full","type","submit",3,"disabled",4,"ngIf"],["expand","full","type","submit",3,"disabled"]],template:function(t,n){1&t&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(d){return n.onSubmit(d)}),e.j41(1,"ion-item"),e.nrm(2,"ion-input",1),e.k0s(),e.j41(3,"ion-item"),e.nrm(4,"ion-input",2),e.k0s(),e.j41(5,"ion-item"),e.nrm(6,"ion-input",3),e.k0s(),e.j41(7,"ion-item")(8,"ion-label",4),e.EFF(9,"Color:"),e.k0s(),e.nrm(10,"ion-input",5),e.k0s(),e.nrm(11,"br"),e.DNE(12,k,2,1,"ion-button",6)(13,S,2,1,"ion-button",6),e.k0s()),2&t&&(e.Y8G("formGroup",n.itemForm),e.R7$(12),e.Y8G("ngIf",null==n.itemService.itemSelected),e.R7$(),e.Y8G("ngIf",null!=n.itemService.itemSelected))},dependencies:[u.bT,a.qT,a.BC,a.cb,r.Jm,r.$w,r.uz,r.he,r.su,r.Gw,a.j4,a.JD],styles:["input[_ngcontent-%COMP%]{padding-top:10px!important}"]}),m})();class y{constructor(){this.name="",this.p_Code="",this.max=0,this.colour=""}}let T=(()=>{var o;class m{constructor(t,n){this.itemService=t,this.toastController=n,this.item=new y,this.isAlertOpen=!1,this.alertButtons=[{text:"Cancel",role:"cancel",handler:()=>{this.setOpen(!1)}},{text:"OK",role:"confirm",handler:()=>{this.removeItem()}}]}ngOnInit(){}editItemClick(t){this.itemService.itemSelected=t,this.itemService.moveForward()}setOpen(t){this.isAlertOpen=t}removeItem(){var t,n;this.itemService.deleteItem(null!==(t=null===(n=this.item)||void 0===n?void 0:n.itemID)&&void 0!==t?t:"").subscribe(s=>{null!=s?this.presentToast("Error removing item.","error"):this.presentToast("Removed item.","success")},s=>{this.presentToast("Error removing item.","error")})}presentToast(t,n){var s=this;return(0,p.A)(function*(){yield(yield s.toastController.create({message:t,duration:2e3,position:"bottom",cssClass:n})).present()})()}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(h.b),e.rXU(r.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-item"]],inputs:{item:"item"},decls:18,vars:5,consts:[[1,"itemContainer"],[2,"padding","0px !important"],["size","6",2,"font-size","18px","text-align","left"],["size","4",2,"font-size","18px","text-align","left"],["size","2",2,"font-size","18px","text-align","right"],[2,"font-size","18px","text-align","left",3,"click"],["name","create","size","large"],["name","trash","size","large"],["header","Remove Item","message","Are you sure that you want to remove ?",3,"didDismiss","isOpen","buttons"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"ion-grid",1)(2,"ion-row")(3,"ion-col",2),e.EFF(4),e.k0s(),e.j41(5,"ion-col",3),e.EFF(6),e.k0s(),e.j41(7,"ion-col",4)(8,"ion-grid",1)(9,"ion-row")(10,"ion-col",5),e.bIt("click",function(){return n.editItemClick(n.item)}),e.nrm(11,"ion-icon",6),e.k0s(),e.j41(12,"ion-col",5),e.bIt("click",function(){return n.setOpen(!0)}),e.nrm(13,"ion-icon",7),e.k0s()()()()(),e.j41(14,"ion-row")(15,"ion-col",3),e.EFF(16),e.k0s()()()(),e.j41(17,"ion-alert",8),e.bIt("didDismiss",function(){return n.setOpen(!1)}),e.k0s()),2&t&&(e.R7$(4),e.SpI(" Name: ",n.item.name," "),e.R7$(2),e.SpI(" Max: ",n.item.max," "),e.R7$(10),e.SpI(" P Code: ",n.item.p_Code," "),e.R7$(),e.Y8G("isOpen",n.isAlertOpen)("buttons",n.alertButtons))},dependencies:[r.Zy,r.hU,r.lO,r.iq,r.ln],styles:[".itemContainer[_ngcontent-%COMP%]{margin-bottom:8px;padding:5px;background-color:#add8e6;color:var(--ion-color-primary-contrast);border:1px;border-radius:10px;border-color:#00f;border-style:solid}ion-col[_ngcontent-%COMP%]{padding:0}ion-row[_ngcontent-%COMP%]{padding:0!important}"]}),m})();function B(o,m){if(1&o&&(e.j41(0,"div"),e.nrm(1,"app-item",4),e.k0s()),2&o){const i=m.$implicit;e.R7$(),e.Y8G("item",i)}}function j(o,m){if(1&o&&(e.j41(0,"div"),e.DNE(1,B,2,1,"div",3),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.itemService.items)}}let I=(()=>{var o;class m{constructor(t,n){this.itemService=t,this.router=n,this.itemStatus=0,t.getItems().subscribe(s=>{})}ngOnInit(){}addClick(){this.itemService.itemSelected=void 0,this.itemService.moveForward()}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(h.b),e.rXU(v.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-itemList"]],decls:5,vars:1,consts:[["shape","round",3,"click"],["slot","icon-only","name","add"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"item"]],template:function(t,n){1&t&&(e.j41(0,"ion-button",0),e.bIt("click",function(){return n.addClick()}),e.nrm(1,"ion-icon",1),e.k0s(),e.nrm(2,"br")(3,"br"),e.DNE(4,j,2,1,"div",2)),2&t&&(e.R7$(4),e.Y8G("ngIf",0==n.itemStatus))},dependencies:[u.Sq,u.bT,r.Jm,r.iq,T]}),m})();var l=c(6013),R=c(1611),w=c(554);function x(o,m){if(1&o&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"ion-item")(3,"ion-label",2),e.EFF(4,"Bytes"),e.k0s(),e.nrm(5,"ion-input",3),e.k0s(),e.j41(6,"ion-item")(7,"ion-label",2),e.EFF(8,"Corner Points"),e.k0s(),e.nrm(9,"ion-input",3),e.k0s(),e.j41(10,"ion-item")(11,"ion-label",2),e.EFF(12,"Display Value"),e.k0s(),e.nrm(13,"ion-input",3),e.k0s(),e.j41(14,"ion-item")(15,"ion-label",2),e.EFF(16,"Format"),e.k0s(),e.nrm(17,"ion-input",3),e.k0s(),e.j41(18,"ion-item")(19,"ion-label",2),e.EFF(20,"Raw Value"),e.k0s(),e.nrm(21,"ion-input",3),e.k0s(),e.j41(22,"ion-item")(23,"ion-label",2),e.EFF(24,"Value Type"),e.k0s(),e.nrm(25,"ion-input",3),e.k0s()()()),2&o){const i=m.$implicit;e.R7$(5),e.Y8G("value",(null==i.bytes?null:i.bytes.toString())||""),e.R7$(4),e.Y8G("value",(null==i.cornerPoints?null:i.cornerPoints.toString())||""),e.R7$(4),e.Y8G("value",i.displayValue),e.R7$(4),e.Y8G("value",i.format),e.R7$(4),e.Y8G("value",i.rawValue),e.R7$(4),e.Y8G("value",i.valueType)}}let E=(()=>{var o;class m{constructor(t,n){this.ngZone=t,this.dialogService=n,this.barcodeFormat=l.Gi,this.lensFacing=l.Nn,this.formGroup=new a.J3({formats:new a.hs([]),lensFacing:new a.hs(l.Nn.Back),googleBarcodeScannerModuleInstallState:new a.hs(0),googleBarcodeScannerModuleInstallProgress:new a.hs(0)}),this.barcodes=[],this.isSupported=!1,this.isPermissionGranted=!1,this.GH_URL="https://github.com/capawesome-team/capacitor-barcode-scanning"}ngOnInit(){l.vi.isSupported().then(t=>{this.isSupported=t.supported}),l.vi.checkPermissions().then(t=>{this.isPermissionGranted="granted"===t.camera}),l.vi.removeAllListeners().then(()=>{l.vi.addListener("googleBarcodeScannerModuleInstallProgress",t=>{this.ngZone.run(()=>{console.log("googleBarcodeScannerModuleInstallProgress",t);const{state:n,progress:s}=t;this.formGroup.patchValue({googleBarcodeScannerModuleInstallState:n,googleBarcodeScannerModuleInstallProgress:s})})})})}startScan(){var t=this;return(0,p.A)(function*(){t.formGroup.get("formats"),t.formGroup.get("lensFacing"),(yield t.dialogService.showModal({component:R.m,cssClass:"barcode-scanning-modal",showBackdrop:!1,componentProps:{formats:[t.barcodeFormat.Code128],lensFacing:l.Nn.Back}})).onDidDismiss().then(f=>{var C;const F=null===(C=f.data)||void 0===C?void 0:C.barcode;F&&(t.barcodes=[F],console.log(F))})})()}scan(){var t=this;return(0,p.A)(function*(){var n;const s=(null===(n=t.formGroup.get("formats"))||void 0===n?void 0:n.value)||[],{barcodes:d}=yield l.vi.scan({formats:s});t.barcodes=d})()}openSettings(){return(0,p.A)(function*(){yield l.vi.openSettings()})()}installGoogleBarcodeScannerModule(){return(0,p.A)(function*(){yield l.vi.installGoogleBarcodeScannerModule()})()}requestPermissions(){return(0,p.A)(function*(){yield l.vi.requestPermissions()})()}openOnGithub(){window.open(this.GH_URL,"_blank")}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(e.SKi),e.rXU(w.o))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-itemBarcode"]],decls:11,vars:5,consts:[[3,"formGroup"],["expand","block",3,"click","disabled"],["position","fixed"],["type","text","readonly","",3,"value"]],template:function(t,n){1&t&&(e.j41(0,"form",0)(1,"ion-button",1),e.bIt("click",function(){return n.startScan()}),e.EFF(2,"Start Scan"),e.k0s(),e.j41(3,"ion-button",1),e.bIt("click",function(){return n.scan()}),e.EFF(4,"Scan"),e.k0s(),e.j41(5,"ion-button",1),e.bIt("click",function(){return n.installGoogleBarcodeScannerModule()}),e.EFF(6,"Install Google Barcode Scanner Module"),e.k0s(),e.j41(7,"ion-button",1),e.bIt("click",function(){return n.requestPermissions()}),e.EFF(8,"Request Permissions "),e.k0s()(),e.Z7z(9,x,26,6,"ion-card",null,e.fX1)),2&t&&(e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("disabled",!n.isSupported),e.R7$(2),e.Y8G("disabled",!n.isSupported),e.R7$(2),e.Y8G("disabled",!n.isSupported),e.R7$(2),e.Y8G("disabled",n.isPermissionGranted),e.R7$(2),e.Dyx(n.barcodes))},dependencies:[a.qT,a.cb,r.Jm,r.b_,r.I9,r.$w,r.uz,r.he,r.Gw,a.j4]}),m})();function P(o,m){1&o&&e.nrm(0,"app-itemList")}function O(o,m){1&o&&e.nrm(0,"app-itemForm")}function M(o,m){1&o&&e.nrm(0,"app-itemBarcode")}const Y=[{path:"",component:(()=>{var o;class m{constructor(t,n){this.itemService=t,this.router=n,this.itemService.navNumber=0}ngOnInit(){}backClick(){this.itemService.navNumber<=0&&(this.itemService.navNumber=0,this.router.navigate(["mainPage"])),this.itemService.moveBackward()}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(h.b),e.rXU(v.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-items"]],decls:16,vars:3,consts:[["slot","start"],["name","arrow-back","size","large",3,"click"],[1,"ion-padding"],[2,"width","100%","vertical-align","middle","height","100%","margin-top","20px"],[4,"ngIf"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-icon",1),e.bIt("click",function(){return n.backClick()}),e.k0s()(),e.j41(4,"ion-title"),e.EFF(5,"Job Items"),e.k0s()()(),e.j41(6,"ion-content",2)(7,"div",3)(8,"ion-card")(9,"ion-card-content")(10,"ion-grid")(11,"ion-row")(12,"ion-col"),e.DNE(13,P,1,0,"app-itemList",4)(14,O,1,0,"app-itemForm",4)(15,M,1,0,"app-itemBarcode",4),e.k0s()()()()()()()),2&t&&(e.R7$(13),e.Y8G("ngIf",0==n.itemService.navNumber),e.R7$(),e.Y8G("ngIf",1==n.itemService.navNumber),e.R7$(),e.Y8G("ngIf",2==n.itemService.navNumber))},dependencies:[u.bT,r.QW,r.b_,r.I9,r.hU,r.W9,r.lO,r.eU,r.iq,r.ln,r.BC,r.ai,G,I,E]}),m})()},{path:"itemList",component:I},{path:"itemForm",component:I}];let U=(()=>{var o;class m{}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[v.iI.forChild(Y),v.iI]}),m})(),$=(()=>{var o;class m{}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.MD,U,a.YN,r.bv,a.X1]}),m})()}}]);