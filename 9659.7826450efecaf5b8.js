"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9659],{6013:(Q,j,h)=>{h.d(j,{Gi:()=>_,vi:()=>R,Nn:()=>D});var u=h(7464),_=function(n){return n.Aztec="AZTEC",n.Codabar="CODABAR",n.Code39="CODE_39",n.Code93="CODE_93",n.Code128="CODE_128",n.DataMatrix="DATA_MATRIX",n.Ean8="EAN_8",n.Ean13="EAN_13",n.Itf="ITF",n.Pdf417="PDF_417",n.QrCode="QR_CODE",n.UpcA="UPC_A",n.UpcE="UPC_E",n}(_||{}),D=function(n){return n.Front="FRONT",n.Back="BACK",n}(D||{});const R=(0,u.F3)("BarcodeScanner",{web:()=>h.e(870).then(h.bind(h,870)).then(n=>new n.BarcodeScannerWeb)})},7464:(Q,j,h)=>{h.d(j,{$c:()=>m,E_:()=>A,F3:()=>w,I9:()=>f});var u=h(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var m=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(m||{});class f extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const L=r=>{var e,t,a,l,o;const v=r.CapacitorCustomPlatform||null,c=r.Capacitor||{},O=c.Plugins=c.Plugins||{},g=r.CapacitorPlatforms,H=(null===(e=null==g?void 0:g.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==v?v.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),ce=(null===(t=null==g?void 0:g.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==H()),ue=(null===(a=null==g?void 0:g.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(b=>{const E=te.get(b);return!!(null!=E&&E.platforms.has(H())||ie(b))}),ie=(null===(l=null==g?void 0:g.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(b=>{var E;return null===(E=c.PluginHeaders)||void 0===E?void 0:E.find(Z=>Z.name===b)}),te=new Map,ve=(null===(o=null==g?void 0:g.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((b,E={})=>{const Z=te.get(b);if(Z)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),Z.proxy;const S=H(),z=ie(b);let x;const _e=function(){var C=(0,u.A)(function*(){return!x&&S in E?x=x="function"==typeof E[S]?yield E[S]():E[S]:null!==v&&!x&&"web"in E&&(x=x="function"==typeof E.web?yield E.web():E.web),x});return function(){return C.apply(this,arguments)}}(),ne=C=>{let y;const W=(...k)=>{const N=_e().then(U=>{const F=((C,y)=>{var W,k;if(!z){if(C)return null===(k=C[y])||void 0===k?void 0:k.bind(C);throw new f(`"${b}" plugin is not implemented on ${S}`,m.Unimplemented)}{const N=null==z?void 0:z.methods.find(U=>y===U.name);if(N)return"promise"===N.rtype?U=>c.nativePromise(b,y.toString(),U):(U,F)=>c.nativeCallback(b,y.toString(),U,F);if(C)return null===(W=C[y])||void 0===W?void 0:W.bind(C)}})(U,C);if(F){const J=F(...k);return y=null==J?void 0:J.remove,J}throw new f(`"${b}.${C}()" is not implemented on ${S}`,m.Unimplemented)});return"addListener"===C&&(N.remove=(0,u.A)(function*(){return y()})),N};return W.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(W,"name",{value:C,writable:!1,configurable:!1}),W},oe=ne("addListener"),se=ne("removeListener"),Pe=(C,y)=>{const W=oe({eventName:C},y),k=function(){var U=(0,u.A)(function*(){const F=yield W;se({eventName:C,callbackId:F},y)});return function(){return U.apply(this,arguments)}}(),N=new Promise(U=>W.then(()=>U({remove:k})));return N.remove=(0,u.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield k()}),N},re=new Proxy({},{get(C,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return z?Pe:oe;case"removeListener":return se;default:return ne(y)}}});return O[b]=re,te.set(b,{name:b,proxy:re,platforms:new Set([...Object.keys(E),...z?[S]:[]])}),re});return c.convertFileSrc||(c.convertFileSrc=b=>b),c.getPlatform=H,c.handleError=b=>r.console.error(b),c.isNativePlatform=ce,c.isPluginAvailable=ue,c.pluginMethodNoop=(b,E,Z)=>Promise.reject(`${Z} does not have an implementation of "${E}".`),c.registerPlugin=ve,c.Exception=f,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},d=(r=>r.Capacitor=L(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),w=d.registerPlugin;class A{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var a=this;let l=!1;this.listeners[e]||(this.listeners[e]=[],l=!0),this.listeners[e].push(t);const v=this.windowListeners[e];v&&!v.registered&&this.addWindowListener(v),l&&this.sendRetainedArgumentsForEvent(e);const c=function(){var g=(0,u.A)(function*(){return a.removeListener(e,t)});return function(){return g.apply(this,arguments)}}();return Promise.resolve({remove:c})}removeAllListeners(){var e=this;return(0,u.A)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t,a){const l=this.listeners[e];if(l)l.forEach(o=>o(t));else if(a){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:a=>{this.notifyListeners(t,a)}}}unimplemented(e="not implemented"){return new d.Exception(e,m.Unimplemented)}unavailable(e="not available"){return new d.Exception(e,m.Unavailable)}removeListener(e,t){var a=this;return(0,u.A)(function*(){const l=a.listeners[e];if(!l)return;const o=l.indexOf(t);a.listeners[e].splice(o,1),a.listeners[e].length||a.removeWindowListener(a.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(a=>{this.notifyListeners(e,a)}))}}const q=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class K extends A{getCookies(){return(0,u.A)(function*(){const e=document.cookie,t={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[l,o]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=$(l).trim(),o=$(o).trim(),t[l]=o}),t})()}setCookie(e){return(0,u.A)(function*(){try{const t=q(e.key),a=q(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),v=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${l}; path=${o}; ${v};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,u.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,u.A)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,u.A)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}w("CapacitorCookies",{web:()=>new K});const V=function(){var r=(0,u.A)(function*(e){return new Promise((t,a)=>{const l=new FileReader;l.onload=()=>{const o=l.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>a(o),l.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class le extends A{request(e){return(0,u.A)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),l=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(l=>l.toLocaleLowerCase()).reduce((l,o,v)=>(l[o]=r[e[v]],l),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(l.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[v,c]of Object.entries(r.data||{}))o.set(v,c);t.body=o.toString()}else if(l.includes("multipart/form-data")||r.data instanceof FormData){const o=new FormData;if(r.data instanceof FormData)r.data.forEach((c,O)=>{o.append(O,c)});else for(const c of Object.keys(r.data))o.append(c,r.data[c]);t.body=o;const v=new Headers(t.headers);v.delete("content-type"),t.headers=v}else(l.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),a=((r,e=!0)=>r?Object.entries(r).reduce((a,l)=>{const[o,v]=l;let c,O;return Array.isArray(v)?(O="",v.forEach(g=>{c=e?encodeURIComponent(g):g,O+=`${o}=${c}&`}),O.slice(0,-1)):(c=e?encodeURIComponent(v):v,O=`${o}=${c}`),`${a}&${O}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=a?`${e.url}?${a}`:e.url,o=yield fetch(l,t),v=o.headers.get("content-type")||"";let O,g,{responseType:c="text"}=o.ok?e:{};switch(v.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":g=yield o.blob(),O=yield V(g);break;case"json":O=yield o.json();break;default:O=yield o.text()}const G={};return o.headers.forEach((H,ee)=>{G[ee]=H}),{data:O,headers:G,status:o.status,url:o.url}})()}get(e){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}w("CapacitorHttp",{web:()=>new le})},1611:(Q,j,h)=>{h.d(j,{m:()=>m});var u=h(467),_=h(6013),i=h(4438),D=h(554),p=h(7863);const R=["square"];function n(f,P){if(1&f){const L=i.RV6();i.j41(0,"ion-fab",7)(1,"ion-fab-button",2),i.bIt("click",function(){i.eBV(L);const d=i.XpG();return i.Njj(d.toggleTorch())}),i.nrm(2,"ion-icon",9),i.k0s()()}}let m=(()=>{var f;class P{constructor(s,d){this.dialogService=s,this.ngZone=d,this.formats=[],this.lensFacing=_.Nn.Back,this.isTorchAvailable=!1,this.barcodes=[]}ngOnInit(){this.barcodes=[],_.vi.isTorchAvailable().then(s=>{this.isTorchAvailable=s.available})}ngAfterViewInit(){setTimeout(()=>{this.startScan()},500)}ngOnDestroy(){this.stopScan()}setZoomRatio(s){s.detail.value&&_.vi.setZoomRatio({zoomRatio:parseInt(s.detail.value,10)})}closeModal(s){var d=this;return(0,u.A)(function*(){d.dialogService.dismissModal({barcode:s,barcodes:d.barcodes})})()}toggleTorch(){return(0,u.A)(function*(){yield _.vi.toggleTorch()})()}startScan(){var s=this;return(0,u.A)(function*(){var d,w;null===(d=document.querySelector("body"))||void 0===d||d.classList.add("barcode-scanning-active");const X={formats:s.formats,lensFacing:s.lensFacing},T=null===(w=s.squareElement)||void 0===w?void 0:w.nativeElement.getBoundingClientRect(),A=T?{left:T.left*window.devicePixelRatio,right:T.right*window.devicePixelRatio,top:T.top*window.devicePixelRatio,bottom:T.bottom*window.devicePixelRatio,width:T.width*window.devicePixelRatio,height:T.height*window.devicePixelRatio}:void 0,M=A?[[A.left,A.top],[A.left+A.width,A.top],[A.left+A.width,A.top+A.height],[A.left,A.top+A.height]]:void 0;yield _.vi.addListener("barcodeScanned",function(){var $=(0,u.A)(function*(K){s.ngZone.run(()=>{var B,V;const I=K.barcode.cornerPoints;M&&I&&(M[0][0]>I[0][0]||M[0][1]>I[0][1]||M[1][0]<I[1][0]||M[1][1]>I[1][1]||M[2][0]<I[2][0]||M[2][1]<I[2][1]||M[3][0]>I[3][0]||M[3][1]<I[3][1])||(s.barcode=K.barcode,null!==(B=s.barcodes)&&void 0!==B&&B.find(Y=>Y.displayValue==K.barcode.displayValue)||null===(V=s.barcodes)||void 0===V||V.push(K.barcode))})});return function(K){return $.apply(this,arguments)}}()),yield _.vi.startScan(X),_.vi.getMinZoomRatio().then($=>{s.minZoomRatio=$.zoomRatio}),_.vi.getMaxZoomRatio().then($=>{s.maxZoomRatio=$.zoomRatio})})()}stopScan(){return(0,u.A)(function*(){var s;null===(s=document.querySelector("body"))||void 0===s||s.classList.remove("barcode-scanning-active"),yield _.vi.stopScan()})()}}return(f=P).\u0275fac=function(s){return new(s||f)(i.rXU(D.o),i.rXU(i.SKi))},f.\u0275cmp=i.VBU({type:f,selectors:[["app-itemModal"]],viewQuery:function(s,d){if(1&s&&i.GBs(R,5),2&s){let w;i.mGM(w=i.lsd())&&(d.squareElement=w.first)}},inputs:{formats:"formats",lensFacing:"lensFacing"},decls:17,vars:5,consts:[["square",""],["slot","end",2,"background-color","white"],[3,"click"],["name","close"],[1,"square"],[1,"zoom-ratio-wrapper"],[3,"ionChange","min","max","disabled"],["slot","fixed","horizontal","end","vertical","bottom"],[2,"font-size","35px","color","rgb(25, 0, 218)","background-color","white","padding","5px"],["name","flashlight"]],template:function(s,d){if(1&s){const w=i.RV6();i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i.EFF(3,"Scanning"),i.k0s(),i.j41(4,"ion-buttons",1)(5,"ion-button",2),i.bIt("click",function(){return i.eBV(w),i.Njj(d.closeModal())}),i.nrm(6,"ion-icon",3),i.k0s()()()(),i.nrm(7,"div",4,0),i.j41(9,"div",5)(10,"ion-range",6),i.bIt("ionChange",function(T){return i.eBV(w),i.Njj(d.setZoomRatio(T))}),i.k0s()(),i.DNE(11,n,3,0,"ion-fab",7),i.j41(12,"div",8)(13,"span"),i.EFF(14," Barcode:"),i.k0s(),i.j41(15,"span"),i.EFF(16),i.k0s()()}2&s&&(i.R7$(10),i.Y8G("min",d.minZoomRatio)("max",d.maxZoomRatio)("disabled",void 0===d.minZoomRatio||void 0===d.maxZoomRatio),i.R7$(),i.vxM(11,d.isTorchAvailable?11:-1),i.R7$(5),i.SpI(" ",null==d.barcode?null:d.barcode.displayValue,""))},dependencies:[p.Jm,p.QW,p.Q8,p.YW,p.eU,p.iq,p.Ob,p.BC,p.ai,p.su],styles:["ion-content[_ngcontent-%COMP%]{--background: transparent}.square[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:16px;width:200px;height:200px;border:6px solid white;box-shadow:0 0 0 4000px #0000004d}.zoom-ratio-wrapper[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:16px;transform:translate(-50%);width:50%}"]}),P})()},554:(Q,j,h)=>{h.d(j,{o:()=>D});var u=h(467),_=h(4438),i=h(7863);let D=(()=>{var p;class R{constructor(m,f,P,L){this.alertCtrl=m,this.modalCtrl=f,this.loadingCtrl=P,this.popoverCtrl=L}dismissModal(m){var f=this;return(0,u.A)(function*(){return f.modalCtrl.dismiss(m)})()}showAlert(m){var f=this;return(0,u.A)(function*(){const P=yield f.alertCtrl.create(m);return yield P.present(),P})()}showErrorAlert(m){var f=this;return(0,u.A)(function*(){return m={header:"Error",buttons:["OK"],...m},f.showAlert(m)})()}showModal(m){var f=this;return(0,u.A)(function*(){const P=yield f.modalCtrl.create(m);return yield P.present(),P})()}showPopover(m){var f=this;return(0,u.A)(function*(){const P=yield f.popoverCtrl.create(m);return yield P.present(),P})()}showLoading(m){var f=this;return(0,u.A)(function*(){m={message:"Please wait...",...m};const L=yield f.loadingCtrl.create(m);return yield L.present(),L})()}}return(p=R).\u0275fac=function(m){return new(m||p)(_.KVO(i.hG),_.KVO(i.W3),_.KVO(i.Xi),_.KVO(i.IE))},p.\u0275prov=_.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),R})()},1129:(Q,j,h)=>{h.d(j,{b:()=>m});var u=h(1626),_=h(6354),i=h(9437),D=h(7673),p=h(5312),R=h(4438),n=h(9747);let m=(()=>{var f;class P{constructor(s,d){this.http=s,this.spinnerService=d,this.navNumber=0,this.itemSelected=void 0,this.items=[],this.httpOptions={headers:new u.Lr({"Content-Type":"application/json"})}}getItems(){return this.spinnerService.showSpinner(),this.http.get(p.c.apiURL+"/u_Item").pipe((0,_.T)(s=>(this.items.length=0,this.items=s,this.spinnerService.hideSpinner(),s)),(0,i.W)(this.handleError("getItems",[])))}getItem(s){return this.http.get(`${p.c.apiURL}/${s}`).pipe((0,i.W)(this.handleError(`getItem id=${s}`)))}addItem(s){return this.http.post(p.c.apiURL+"/u_Item",s,this.httpOptions).pipe((0,_.T)(d=>d),(0,i.W)(this.handleError("addItem")))}updateItem(s){return this.http.put(p.c.apiURL+"/u_Item/"+s.itemID,s,this.httpOptions).pipe((0,i.W)(this.handleError("updateItem")))}deleteItem(s){return this.http.delete(`${p.c.apiURL+"/u_Item"}/${s}`,this.httpOptions).pipe((0,_.T)(w=>(this.getItems().subscribe(),w)),(0,i.W)(this.handleError("deleteItem")))}handleError(s="operation",d){return w=>(console.error(w),(0,D.of)(d))}moveForward(){this.navNumber++}moveBackward(){this.navNumber--}}return(f=P).\u0275fac=function(s){return new(s||f)(R.KVO(u.Qq),R.KVO(n.D))},f.\u0275prov=R.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),P})()}}]);